<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yulong.easypan.mappers.userInfoMapper">
    <insert id="insert">
        insert into easypan.user_info values(#{userId},#{nickName},#{email},#{qqOpenId},#{qqAvatar},#{password},#{joinTime},#{lastLoginTime},#{status},#{userSpace},#{totalSpace})

    </insert>
    <update id="updateUserSpace">
        update user_info
        <set>
            <if test="userSpace!=null">
                user_space = #{userSpace}
            </if>
            <if test="totalSpace!=null">
                total_space = #{totalSpace}
            </if>
        </set>
        where user_id = #{userId}
    </update>
    <select id="selectByEmail" resultType="com.yulong.easypan.entity.pjo.UserInfo">
        select * from easypan.user_info where email=#{email}
    </select>
    <select id="selectBynickName" resultType="com.yulong.easypan.entity.pjo.UserInfo">
        select * from easypan.user_info where nick_name = #{nickName}
    </select>
</mapper>